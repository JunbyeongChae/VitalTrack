## 예원 트러블 슈팅

### 3.1 식단관리 - React 한글입력(IME) 문제

1. 문제 상황 (Issue Description)
    - 식단검색 모달창에 한글을 입력하면 마지막 글자가 중첩되어 표시되는 문제 (예: “안녕, 녕)
2. 원인 분석 (Root Cause Analysis)
    - React에서 한글을 처리하는 과정에서 발생하는 문제
    - 영어와 다르게 한글은 자음과 모음이 한 글자 단위라서 발생하는 문제
3. 해결 과정 (Troubleshooting Process)
    - 단계 1: 실시간으로 키보드 입력을 인식하는 방식으로 검색기능을 구현한 것이라고 판단함
    - 단계 2: 실시간 검색기능 제거하였으나 여전히 한글 이슈가 해결되지 않음
    - 단계 3: React 사용시 발생하는 흔한 문제임을 알게 되어 JavaScript의 KeyboardEvent 속성 활용하여 IME의 동작시점, 중단시점의 이벤트를 감지하게 함
4. 해결 결과 (Outcome)
    - 한글 이슈 해결 후 정상적으로 검색기능 및 최근검색어 기능 구현 완료

React에 KeyboardEvent 속성 추가

### 3-2. 식단관리 - 대용량 파일을 DB에서 로드시 발생하는 Java 가상머신 메모리 이슈

1. 문제 상황 (Issue Description)
    - 식단 검색시 15MB 상당의 식단 데이터셋을 백엔드 서버로부터 찾는 기능이 구현되었으나 검색을 실행하면 얼마 되지 않아 가상메모리부족 이슈로 인해 Tomcat 서버가 강제 종료됨.
2. 원인 분석 (Root Cause Analysis)
    - 파일 용량 문제라는 판단으로 JSON 파일의 압축을 시도했으나 해결되지 않음
    - 대용량 데이터셋에서 검색 키워드를 처음부터 끝까지 찾는 과정이 서버에 과부하를 줌.
3. 해결 과정 (Troubleshooting Process)
    - 단계 1: 자바 객체와 Json 데이터 간 변환을 돕는 Jackson 라이브러리를 사용해 데이터셋 전체를 한 번에 로드하지 않고 스트림방식으로 처리하도록 함.
4. 해결 결과 (Outcome)
    - Java 가상머신 메모리 이슈 없이 검색기능이 정상 작동됨.

메모리 부족 오류 로그

### 3-3. 식단관리 - ECharts 반응형 속성 적용 및 리렌더링 문제

1. 문제 상황 (Issue Description)
    - 반응형 문제: ECharts가 반응형으로 작동하지 않아 컴포넌트를 침범하거나 가려지는 현상
    - 리렌더링 문제: ECharts가 식단데이터 추가와 함께 실시간으로 차트 업데이트가 되지 않고 애니메이션 효과가 없어짐
2. 원인 분석 (Root Cause Analysis)
    - 반응형 문제: ECharts에 반응형 속성 적용 코드가 누락됨
    - 리렌더링 문제: ECharts와 데이터 동기화를 위해 차트에 reload 함수를 추가했으나 이로 인해 애니메이션 효과가 사라짐
3. 해결 과정 (Troubleshooting Process)
    - 단계 1: 반응형 코드 추가 후 resize 함수 삭제
    - 단계 2: ECharts가 표시되는 컴포넌트인 Summary.jsx 전체가 리렌더링 될 수 있도록 함수 호출 순서 조정
4. 해결 결과 (Outcome)
    - ECharts 정상 작동